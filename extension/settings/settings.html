<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AutoPlay Control Settings</title>
  <link rel="preload" href="settings.css" as="style">
  <link rel="stylesheet" href="settings.css">
</head>
<body>
  <div class="settings-container">
    <!-- Header with Tabs -->
    <header class="settings-header">
      <div class="header-container">
        <button class="back-btn" id="backBtn" aria-label="Back to popup">
          <span aria-hidden="true">‚Üê</span>
        </button>
        <div class="header-title">
          <span class="logo">üò¥</span>
          <h1>AutoPlay Control Settings</h1>
        </div>
        <nav class="tabs-nav-container">
          <button class="tab-btn active" data-tab="general" aria-label="General settings">
            <span class="tab-icon" aria-hidden="true">‚öôÔ∏è</span>
            <span class="tab-label">General</span>
          </button>
          <button class="tab-btn" data-tab="presets" aria-label="Preset timers">
            <span class="tab-icon" aria-hidden="true">‚ö°</span>
            <span class="tab-label">Presets</span>
          </button>
          <button class="tab-btn" data-tab="appearance" aria-label="Appearance settings">
            <span class="tab-icon" aria-hidden="true">üé®</span>
            <span class="tab-label">Appearance</span>
          </button>
          <button class="tab-btn" data-tab="advanced" aria-label="Advanced settings">
            <span class="tab-icon" aria-hidden="true">üîß</span>
            <span class="tab-label">Advanced</span>
          </button>
        </nav>
      </div>
    </header>

    <!-- Tab Content -->
    <main class="tabs-content">
      
      <!-- GENERAL TAB -->
      <section class="tab-panel active" id="generalTab">
        <div class="section-group">
          <h2 class="section-title">General Settings</h2>
          
          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="showNotifications">Desktop Notifications</label>
              <p class="setting-description">Show desktop notifications when timer ends</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="showNotifications" checked>
              <span class="slider"></span>
            </label>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="showOverlay">Video Overlay</label>
              <p class="setting-description">Display countdown overlay on video player</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="showOverlay" checked>
              <span class="slider"></span>
            </label>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="autoPauseNext">Auto-pause Next Episode</label>
              <p class="setting-description">Automatically pause next episode when it starts</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="autoPauseNext">
              <span class="slider"></span>
            </label>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="badgeEnabled">Badge Counter</label>
              <p class="setting-description">Show remaining time on extension icon</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="badgeEnabled" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="section-group">
          <h2 class="section-title">Sound Settings</h2>
          
          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="notificationSound">Notification Sound</label>
              <p class="setting-description">Play a sound when timer expires</p>
            </div>
            <div class="sound-controls">
              <select class="sound-select" id="notificationSound">
                <option value="none">None (Silent)</option>
                <option value="bell">Bell</option>
                <option value="chime">Chime</option>
                <option value="alert">Alert</option>
              </select>
              <button class="test-sound-btn" id="testSoundBtn" aria-label="Test sound">
                <span aria-hidden="true">üîä</span>
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- PRESETS TAB -->
      <section class="tab-panel" id="presetsTab">
        <div class="section-group">
          <h2 class="section-title">Quick Preset Timers</h2>
          <p class="section-description">Customize your quick-access timer presets. The first preset controls the main clock button.</p>
          
          <div class="presets-editor-grid">
            <div class="preset-edit-row preset-main">
              <span class="preset-icon" aria-hidden="true">‚è∞</span>
              <input type="text" class="preset-input" id="preset1" placeholder="30m">
              <span class="preset-note">Main Clock</span>
            </div>
            <div class="preset-divider"></div>
            <div class="preset-edit-row">
              <span class="preset-icon" aria-hidden="true">‚ö°</span>
              <input type="text" class="preset-input" id="preset2" placeholder="1h">
              <span class="preset-note">Quick Timer</span>
            </div>
            <div class="preset-edit-row">
              <span class="preset-icon" aria-hidden="true">‚≠ê</span>
              <input type="text" class="preset-input" id="preset3" placeholder="1h 30m">
              <span class="preset-note">Medium Timer</span>
            </div>
            <div class="preset-edit-row">
              <span class="preset-icon" aria-hidden="true">üî•</span>
              <input type="text" class="preset-input" id="preset4" placeholder="2h">
              <span class="preset-note">Long Timer</span>
            </div>
          </div>

          <div class="presets-actions">
            <button class="btn btn-primary" id="savePresetsBtn">
              <span aria-hidden="true">üíæ</span> Save Presets
            </button>
            <button class="btn btn-secondary" id="resetPresetsBtn">
              <span aria-hidden="true">‚Ü©Ô∏è</span> Reset to Defaults
            </button>
          </div>

          <p class="setting-hint">Format: 30s, 5m, 1h 30m (1 second to 24 hours)</p>
        </div>
      </section>

      <!-- APPEARANCE TAB -->
      <section class="tab-panel" id="appearanceTab">
        <div class="section-group">
          <h2 class="section-title">Theme</h2>
          
          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label">Color Theme</label>
              <p class="setting-description">Choose your preferred color theme</p>
            </div>
            <fieldset class="theme-selector" role="radiogroup" aria-label="Color theme">
              <label class="theme-option" data-theme="light">
                <input type="radio" name="theme" value="light" class="theme-radio">
                <span class="theme-content">
                  <span class="theme-preview light-preview" aria-hidden="true">‚òÄÔ∏è</span>
                  <span class="theme-name">Light</span>
                </span>
              </label>
              <label class="theme-option active" data-theme="dark">
                <input type="radio" name="theme" value="dark" class="theme-radio" checked>
                <span class="theme-content">
                  <span class="theme-preview dark-preview" aria-hidden="true">üåô</span>
                  <span class="theme-name">Dark</span>
                </span>
              </label>
              <label class="theme-option" data-theme="auto">
                <input type="radio" name="theme" value="auto" class="theme-radio">
                <span class="theme-content">
                  <span class="theme-preview auto-preview" aria-hidden="true">üîÑ</span>
                  <span class="theme-name">Auto</span>
                </span>
              </label>
            </fieldset>
          </div>
        </div>

        <div class="section-group">
          <h2 class="section-title">Display</h2>
          
          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label" for="compactMode">Compact Mode</label>
              <p class="setting-description">Use a smaller popup interface</p>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="compactMode">
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </section>

      <!-- ADVANCED TAB -->
      <section class="tab-panel" id="advancedTab">
        <div class="section-group">
          <h2 class="section-title">Data & Privacy</h2>
          
          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label">Clear History</label>
              <p class="setting-description">Remove all saved timer history</p>
            </div>
            <button class="btn btn-danger" id="clearHistoryBtn">
              <span aria-hidden="true">üóëÔ∏è</span> Clear History
            </button>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label">Export Configuration</label>
              <p class="setting-description">Download your settings as a JSON file</p>
            </div>
            <button class="btn btn-secondary" id="exportConfigBtn">
              <span aria-hidden="true">üì•</span> Export
            </button>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label class="setting-label">Import Configuration</label>
              <p class="setting-description">Restore settings from a JSON file</p>
            </div>
            <button class="btn btn-secondary" id="importConfigBtn">
              <span aria-hidden="true">üì§</span> Import
            </button>
            <input type="file" id="importFileInput" accept=".json" hidden>
          </div>
        </div>

        <div class="section-group">
          <h2 class="section-title">About</h2>
          
          <div class="about-section compact">
            <div class="about-header">
              <div class="about-logo">
                <span class="logo-large">üò¥</span>
                <div class="about-info">
                  <h3>AutoPlay Control</h3>
                  <p class="version-text">Version 2.0</p>
                </div>
              </div>
              <div class="social-links">
                <a class="social-btn" id="twitterBtn" href="https://twitter.com/autoplaycontrol" target="_blank" rel="noopener" aria-label="Follow on Twitter">
                  <span aria-hidden="true">üê¶</span>
                </a>
                <a class="social-btn" id="discordBtn" href="https://discord.gg/autoplay-control" target="_blank" rel="noopener" aria-label="Join Discord">
                  <span aria-hidden="true">üí¨</span>
                </a>
                <a class="social-btn" id="githubBtn" href="https://github.com/kinect3/AutoPlayVideo" target="_blank" rel="noopener" aria-label="View on GitHub">
                  <span aria-hidden="true">‚≠ê</span>
                </a>
              </div>
            </div>
            
            <p class="about-description">
              Sleep timer for streaming platforms. Set a timer and pause videos automatically.
            </p>

            <div class="reset-all-section">
              <button class="btn btn-danger-outline" id="resetAllBtn">
                <span aria-hidden="true">‚ö†Ô∏è</span> Reset All Settings
              </button>
            </div>
          </div>
        </div>
      </section>

    </main>

    <!-- Toast Notification -->
    <div class="toast hidden" id="toast">
      <span class="toast-icon" id="toastIcon">‚úì</span>
      <span class="toast-message" id="toastMessage">Settings saved</span>
    </div>

  </div>

  <script type="module" src="settings.js" defer></script>
</body>
</html>
